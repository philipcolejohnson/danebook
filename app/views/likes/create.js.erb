<% if @parent_type == 'Post' %>
  var $post = $('[data-id=' + <%= @like.likable.id %> + ']');
  DB.likes.updatePostLikes($post, 
    "<%= j(render partial: "likes/post_like", locals: { post: @like.likable }) %>", 
    "<%= j(render partial: "likes/post_like_count", locals: { post: @like.likable }) %>");
<% elsif @parent_type == 'Comment' %>
  var $comment = $('[data-comment-id=' + <%= @like.likable.id %> + ']');
  DB.likes.updateCommentLikes($comment, 
    "<%= j(render partial: "likes/comment_like", locals: { comment: @like.likable }) %>");
<% elsif @parent_type == 'Photo' %>
  DB.likes.updatePhotoLikes("<%= j(render partial: "likes/photo_like", locals: { photo: @like.likable }) %>", 
    "<%= j(render partial: "likes/photo_like_count", locals: { photo: @like.likable }) %>");
<% end %>


DB.flash.showFlashes("<%= escape_javascript(render 'shared/flash') %>");